<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="shortcut icon" href="//cdn.vip.qq.com/vipstyle/mobile/mvip/v1/img/favicon.ico" type="image/x-icon">
    <title></title>
    <link rel="stylesheet" type="text/css" href="//cdn.vip.qq.com/vipstyle/frozenui/1.3.0/css/global.css?_bid=2134" />
    <script type="text/javascript" src="//open.mobile.qq.com/sdk/qqapi.js?_bid=152"></script>
</head>
<body ontouchstart="">
    <div id="wp-notice" class="ui-notice" style="display:none;">
        <i></i>
        <p id="notice"></p>
    </div>
    <script>
        /*
         * 数据源配置http://ams.cm.com/act_static.php?actid=108100
         * @params
         * tt:默认0--双平台支持 1--安卓不支持 2--苹果不支持 3--双平台不支持 5--生成链接
         * ChannelID:渠道号
         * _from:统计来源
         * url:要跳转的链接，要求:
         *   1、http(s)链接地址要求qq.com子域的
         *   2、进行encodeURIComponent
         */
        var ENV = (function () {

            var ua = navigator.userAgent.toLowerCase();
            var ua2 = navigator.userAgent;

            var platform = function (os) {
                var ver = ('' + (new RegExp(os + '(\\d+((\\.|_)\\d+)*)').exec(ua) || [, 0])[1]).replace( /_/g, '.');
                return !!parseFloat(ver);
            };

            return {
                is_mqq: /(iPad|iPhone|iPod).*? (IPad)?QQ\/([\d\.]+)/.test(ua2) || /\bV1_AND_SQI?_([\d\.]+)(.*? QQ\/([\d\.]+))?/.test(ua2),
                is_ios: platform('os '),
                is_android: platform('android[/ ]'),
                is_pc: !platform('os ') && !platform('android[/ ]')
            }
        })();

        //模块管理器
        (function () {
            var _moduleDef = [];
            var _moduleReq = {};
            window.define = function (module, fn) {
                if (typeof fn === 'function') {
                    _moduleDef.push({
                        'module': module,
                        'cb': fn,
                        'load': false
                    });
                }
            }
            window.require = function (module) {
                var _cur, i = 0,
                    _len = _moduleDef.length || 0;
                for (; i < _len; ++i) {
                    _cur = _moduleDef[i] || {};
                    if (_cur.module === module && _cur.load === false) {
                        _cur.load = true;
                        return _cur.cb(_moduleReq);
                    } else if (_cur.module === module && _cur.load === true) {
                        return _moduleReq[module];
                    }
                }
            }
        })();
        //定义工具类模块
        define('utils', function (exports) {
            var _private = {},
                utils = {};
            utils.showTips = function (type) { //错误提示
                document.title = "温馨提示";
                document.querySelector("#wp-notice").style.display = "-webkit-box";
                type = parseInt(type) || 0;
                var wordingMap = {
                    0: '参数错误',
                    1: '安卓手机该功能筹备中，敬请期待~', //苹果通用提示
                    2: '苹果手机该功能筹备中，敬请期待~', //安卓通用提示
                    3: '该功能筹备中，敬请期待~', //双平台通用提示
                    4: '苹果手机签到功能筹备中，敬请期待~', //签到
                    5: '苹果手机领取每月礼包功能筹备中，敬请期待~' //每月礼包
                };
                document.querySelector('#notice').innerText = wordingMap[type] || wordingMap[0];
            }
            utils.showErr = function (dom) {
                if (dom) {
                    dom.style.borderColor = "rgb(227,31,38)";
                    dom.setAttribute('placeholder', '请输入必要信息');
                    document.querySelector('#realurl').innerText = '';
                }
            }
            utils.clearErrInfo = function () {
                var forms = document.querySelectorAll('.form-content');
                for (var i = 0, len = forms.length; i < len; ++i) {
                    forms[i].style.borderColor = "";
                }
            }
            utils.loadJs = function (src, cb) {
                var _this = arguments.callee;
                //已加载直接回调
                if (_this.script && _this.script.hasOwnProperty(src) && _this.script[src] === 0) {
                    typeof cb === 'function' && cb({
                        ret: 0
                    });
                    return;
                }
                //存加载状态,1为加载中
                !_this.script && (_this.script = []);

                !_this.cbs && (_this.cbs = []);
                //存回调队列
                !_this.cbs[src] && (_this.cbs[src] = []);
                //已添加但正在下载中，将回调加入队列
                if (_this.script[src] === 1) {
                    typeof cb === 'function' && _this.cbs[src].push(cb);
                    return;
                }
                //未添加资源，标记该资源为下载中，并处理下载
                _this.script[src] = 1;

                typeof cb === 'function' && _this.cbs[src].push(cb);

                var script = document.createElement('script');
                script.async = 'async';
                script.src = src;
                script.onload = function () {
                    _this.script[src] = 0;
                    !!_this.cbs[src] && _this.cbs[src].forEach(function (cb, index, arr) {
                        cb({
                            ret: 0
                        });
                    });
                    _this.cbs[src] = null;
                };
                script.onerror = function () {
                    if (_this.script[src] === 1) { //还在加载中
                        _this.script[src] = -1;
                        !!_this.cbs[src] && _this.cbs[src].forEach(function (cb, index, arr) {
                            cb({
                                ret: -1
                            });
                        });
                        _this.cbs[src] = null;
                    }
                };
                setTimeout(function () {
                    if (_this.script[src] === 1) { //还在加载中
                        _this.script[src] = -1;
                        !!_this.cbs[src] && _this.cbs[src].forEach(function (cb, index, arr) {
                            cb({
                                ret: -1
                            });
                        });
                        _this.cbs[src] = null;
                    }

                }, 6000);
                document.getElementsByTagName('head')[0].appendChild(script);

            };
            return (exports.utils = utils);
        });
        //定义生成URL模块
        define('getUrlMod', function (exports) {
            var utils = require('utils');
            var _private = {},
                getUrlMod = {};

            getUrlMod.bindEvent = function (selector, event, handler) {
                var _doms = _private._doms;
                var _params = _private._params;
                var _handlers = {
                    //生成链接方法
                    urlConsHandler: function () {
                        var tmpval, _url = location.protocol +
                            '//cdn.vip.qq.com/club/client/act/readPublicSvrIosPage/rel/index.html?_wv=3';
                        var getUrlComp = function (params) {
                            if (!params.urland && !params.urlios) return '';
                            var paramstr, keyval = ['_bid=2036'];
                            var readUrl = 'http://cdn.vip.qq.com/club/client/read/';
                            var readUrlReg = /^https?:\/\/cdn.vip.qq.com\/club\/client\/read\//;
                            var _url1 = params.urland,
                                _url2 = params.urlios;

                            _params.urlparam && _params.urlparam.forEach(function (val, index) {
                                params[val] && keyval.push(val + '=' + params[val]);
                            });

                            params._from && keyval.push('_from=' + params._from);
                            paramstr = keyval.join('&');

                            //							_url1.indexOf(readUrl) == 0 && paramstr && (_url1 += '?' + paramstr);
                            readUrlReg.test(_url1) && paramstr && (_url1 += '?' + paramstr);
                            _url1 = _url1.replace(
                                /^https?:\/\/(imgcache|cdn.vip).qq.com\/club\/client\/read\/(6|ios)\/rel\//,
                                '');

                            //							_url2.indexOf(readUrl) == 0 && paramstr && (_url2 += '?' + paramstr);
                            readUrlReg.test(_url2) && paramstr && (_url2 += '?' + paramstr);
                            _url2 = _url2.replace(
                                /^https?:\/\/(imgcache|cdn.vip).qq.com\/club\/client\/read\/(6|ios)\/rel\//,
                                '');

                            if (_url1 == _url2) {
                                return '&url=' + encodeURIComponent(_url1);
                            } else {
                                return '&urland=' + encodeURIComponent(_url1) + '&urlios=' +
                                    encodeURIComponent(_url2);
                            }

                        };
                        switch (parseInt(_params.tt)) {
                            case 0:
                                if (_params.urland === '' || _params.urlios === '') {
                                    if (_params.urland === '')
                                        utils.showErr(_doms.urlAndroid);
                                    if (_params.urlios === '')
                                        utils.showErr(_doms.urlIos);
                                    return;
                                }
                                break;
                            case 1:
                                if (_params.urlios === '') {
                                    utils.showErr(_doms.urlIos);
                                    return;
                                }
                                break;
                            case 2:
                                if (_params.urland === '') {
                                    utils.showErr(_doms.urlAndroid);
                                    return;
                                }
                                break;
                        }
                        for (var index in _params.urlparam) {
                            tmpval = _params.urlparam[index];
                            if (tmpval && !_params[tmpval]) {
                                utils.showErr(document.querySelector('#' + tmpval));
                                return;
                            }
                        }
                        _doms.result.style.display = "inline";
                        if (_params.tt != 0) //拼接平台支持参数tt
                            _url += '&tt=' + _params.tt;
                        if (_params.ChannelID) //拼接ChannelID
                            _url += '&ChannelID=' + _params.ChannelID;

                        _url += getUrlComp(_params);

                        _doms.realUrl.innerText = _url;
                        utils.clearErrInfo();
                    },
                    inputHandler: function (e) {
                        var _this = e.target,
                            value = _this.value.trim(),
                            key = _this.getAttribute('data-key');
                        key && (_params[key] = value);
                        localStorage.setItem('_params', JSON.stringify({
                            _params: _params,
                            time: new Date().getTime()
                        }));
                    },
                    typeHandler: function (e) {
                        var _this = e.target,
                            index = _this.selectedIndex,
                            $formItems = document.querySelectorAll('#wp-form .optional');

                        for (var len = $formItems.length, i = 0; i < len; ++i) {
                            _doms.wpForm.removeChild($formItems[i]);
                        }
                        _params.urlparam = [];
                        if (index == 0) {
                            _params.urland = _params.urlios = _doms.urlAndroid.value = _doms.urlIos
                                .value = '';
                            _params.tt = _doms.tt.value = 0;
                            _doms.urlAndroid.removeAttribute('disabled');
                            _doms.urlIos.removeAttribute('disabled');
                            return;
                        }

                        var $opt = _this.options[index],
                            url1 = $opt.getAttribute('data-url1') || '',
                            url2 = $opt.getAttribute('data-url2') || '',
                            param = $opt.getAttribute('data-param') || '';
                        if (!!url1 || !!url2) {
                            _params.urland = _doms.urlAndroid.value = url1;
                            _params.urlios = _doms.urlIos.value = url2;
                            _doms.urlAndroid.setAttribute('disabled', 'true');
                            _doms.urlIos.setAttribute('disabled', 'true');
                            param && getUrlMod.renderOption(param);
                            url1 === '' && (_params.tt = _doms.tt.value = 1);
                            url2 === '' && (_params.tt = _doms.tt.value = 2);
                            url1 !== '' && url2 !== '' && (_params.tt = _doms.tt.value = 0);
                            localStorage.setItem('_params', JSON.stringify({
                                _params: _params,
                                time: new Date().getTime()
                            }));
                        }

                    },
                    copyHandler: function (e) {
                        var _this = e.target;
                        _this.setAttribute('disabled', 'true');
                        _doms.confirms.click();
                        if (!_doms.realUrl.innerText) {
                            if (typeof mqq !== 'undefined' && mqq.compare("1.0") > 0) {
                                mqq.ui.showDialog({
                                    title: '温馨提示',
                                    text: '链接内容为空或生成失败，请检查各项，并点击生成链接按钮~',
                                    needCancelBtn: false,
                                    okBtnText: '我知道了'
                                }, function (json) {});
                            } else {
                                alert('链接内容为空或生成失败，请检查各项，并点击生成链接按钮~');
                            }
                            _this.removeAttribute('disabled');
                            return;
                        }
                        if (typeof mqq !== 'undefined' && mqq.compare("4.7.2") >= 0) {
                            mqq.data.setClipboard({
                                "text": _doms.realUrl.innerText
                            }, function (ret) {
                                if (ret) {
                                    mqq.ui.showDialog({
                                        title: '温馨提示',
                                        text: '已经将链接复制到粘贴板',
                                        needCancelBtn: false,
                                        okBtnText: '我知道了'
                                    }, function (json) {});
                                }
                            });
                            _this.removeAttribute('disabled');
                        } else {
                            utils.loadJs(location.protocol +
                                "//cdn.vip.qq.com/club/client/act/readPublicSvrIosPage/rel/js/clipboard.min.js",
                                function (json) {
                                    if (json.ret == 0) {
                                        clipboard.copy(_doms.realUrl.innerText).then(function () {
                                            //alert("已经将链接复制到粘贴板");
                                            document.querySelector("#tool-wp").style.opacity =
                                                "1";
                                            setTimeout(function () {
                                                document.querySelector(
                                                        "#tool-wp").style.opacity =
                                                    "0";
                                            }, 1000);
                                        }, function (err) {
                                            alert("版本过低，使用新版QQ或Chrome");
                                        });
                                    } else {
                                        alert("网络繁忙，请刷新重试");
                                    }
                                    _this.removeAttribute('disabled');
                                });
                        }
                    }
                };
                if (selector && event && handler) {
                    if (!selector.length) {
                        _handlers[handler] && (selector[event] = _handlers[handler]);
                    } else if (selector.tagName && selector.tagName.toLowerCase() === 'select') {
                        _handlers[handler] && (selector[event] = _handlers[handler]);
                    } else {
                        for (var len = selector.length, i = 0; i < len; ++i) {
                            _handlers[handler] && (selector[i][event] = _handlers[handler]);
                        }
                    }

                }
            }
            getUrlMod.renderOption = function (param) {
                if (param === '')
                    return;
                var _doms = _private._doms,
                    _params = _private._params,
                    paramDom, paramArr = param.split(';');

                _params.urlparam = [];

                paramDom = paramArr.map(function (val, index) {
                    var _div, _html, items = val.split(':');
                    items[1] && _params.urlparam.push(items[1]);
                    _div = document.createElement('div');
                    _div.className = 'item optional';
                    _html = '<label class="control-label" for="' + items[1] + '">' + items[0] +
                        '(*)：</label><input class="form-content" ';
                    _html += _params[items[1]] ? 'value="' + _params[items[1]] + '" ' : '';
                    _html += 'name="' + items[1] + '" id="' + items[1] +
                        '" placeholder="请输入必要信息" data-key="' + items[1] + '"/>';
                    _div.innerHTML = _html;
                    return _div;
                });
                paramDom.forEach(function (val, index) {
                    _doms.wpForm.insertBefore(val, _doms.froms.parentNode);
                });
                getUrlMod.bindEvent(document.querySelectorAll('.optional .form-content'), 'oninput',
                    'inputHandler');
            }
            getUrlMod.getTypeData = function () {
                //请求数据源
                var $type = _private._doms.type;
                var _params = _private._params;
                utils.loadJs('http://imgcache.gtimg.cn/ACT/vip_act/act_data/108100.json.js', function (json) {
                    if (json.ret == 0) {
                        var items, _html = '',
                            dataParam, dataSource = AMD_108100.form[1] || '';
                        if (!dataSource) return;
                        var _tpl = function (data, index) {
                            return '<option value="' + index + '" data-url1="' + data.urlandroid +
                                '" data-url2="' + data.urlios + '" data-param="' + data.param +
                                '">' + data.name + '</option>';
                        }
                        items = dataSource.filter(function (val) {
                            return val.show === 1;
                        }).sort(function (pre, next) {
                            var one = pre.priority || 9999;
                            var two = next.priority || 9999;
                            return one - two;
                        }).map(function (val, index) {
                            if (index + 1 == _params.type) {
                                dataParam = val.param;
                            }
                            return _tpl(val, index + 1);
                        });
                        $type.innerHTML += items.join('');
                        _params.type && ($type.value = _params.type);
                        dataParam && getUrlMod.renderOption(dataParam);
                    }
                });
            }
            getUrlMod.renderVal = function () {
                var doms = _private._doms;
                var params = _private._params;
                params.urland && (doms.urlAndroid.value = params.urland);
                params.urlios && (doms.urlIos.value = params.urlios);
                params._from && (doms.froms.value = params._from);
                params.tt && (doms.tt.value = params.tt);
                params.ChannelID && (doms.channelID.value = params.ChannelID);
                if (params.type > 0) {
                    doms.urlAndroid.setAttribute('disabled', 'true');
                    doms.urlIos.setAttribute('disabled', 'true');
                }
                doms.wpForm.style.display = "-webkit-box";
            }
            getUrlMod.getParamData = function () {
                var storage = JSON.parse(localStorage.getItem('_params') || '{}');
                if (storage.time && storage._params && storage.time + 600000 > new Date().getTime()) {
                    _private._params = storage._params;
                } else {
                    localStorage.clear();
                    _private._params = {
                        "urland": '',
                        "urlios": '',
                        "_from": '',
                        "tt": 0,
                        "ChannelID": ''
                    };
                }
                getUrlMod.renderVal();
            }
            getUrlMod.init = function () {
                document.title = '阅读中心链接配置';
                //浏览器js复制内容到粘贴板，引入clipboard.js
                if (typeof mqq === 'undefined' || mqq.compare("4.7.2") < 0) {
                    utils.loadJs(location.protocol +
                        "//cdn.vip.qq.com/club/client/act/readPublicSvrIosPage/rel/js/clipboard.min.js"
                    );
                }
                var $ = function (selector) {
                    return document.querySelector(selector);
                }
                var doms = _private._doms = {
                    wpForm: $("#wp-form"),
                    type: $("#type"),
                    urlAndroid: $("#urland"),
                    urlIos: $("#urlios"),
                    froms: $("#_from"),
                    tt: $("#tt"),
                    channelID: $("#channelid"),
                    result: $("#result").firstElementChild,
                    realUrl: $("#realurl"),
                    confirms: $("#confirm"),
                    copy: $("#copy")
                };
                getUrlMod.getParamData();
                getUrlMod.getTypeData();

                getUrlMod.bindEvent(doms.confirms, 'onclick', 'urlConsHandler');
                getUrlMod.bindEvent(doms.type, 'onchange', 'typeHandler');
                getUrlMod.bindEvent(doms.copy, 'onclick', 'copyHandler');
                var $forms = document.querySelectorAll('.form-content');
                for (var len = $forms.length, i = 0; i < len; ++i) {
                    getUrlMod.bindEvent($forms[i], 'oninput', 'inputHandler');
                }
            }
            return (exports.getUrlMod = getUrlMod);
        });
        //定义跳转URL模块
        define('jumpUrlMod', function (exports) {
            var getUrlMod = require('getUrlMod'),
                utils = require('utils');
            var _private = {},
                jumpUrlMod = {};
            //跳转链接处理模块
            jumpUrlMod.getUrlparam = function (name) {
                var params = location.search.split('?')[1] || '';
                if (params != '') {
                    var paramArr = params.split('&');
                    for (var i = 0, cl = paramArr.length, name = encodeURIComponent(name), tmpArr; i < cl; i++) {
                        tmpArr = paramArr[i].split('=');
                        if (name == tmpArr[0]) {
                            return decodeURIComponent(tmpArr[1] || '');
                        }
                    }
                }
                return null;
            };
            jumpUrlMod.openUrl = function (url) {
                var iframe = document.createElement('iframe');
                iframe.style.cssText = 'display:none;width:0px;height:0px;';
                (document.body || document.documentElement).appendChild(iframe);
                iframe.src = url;
                setTimeout(function () {
                    iframe.parentNode.removeChild(iframe);
                }, 0);
            };
            jumpUrlMod.checkHost = function (url) {
                url = url.split('?')[0];
                var host = url.split('/');
                if (jumpUrlMod.READ_URL_REG.test(url) || /^\d+$/.test(url) || jumpUrlMod.READ_TEST_URL_REG.test(url) || jumpUrlMod.FILE_NAME_REG.test(url) || jumpUrlMod.MQQ_REG.test(url)) {
                    _private.ismqqUrl = !0;
                    return true;
                } else if (/^https?:/.test(host[0]) && /\.qq\.com$/.test(host[2])) {
                    return true;
                } else {
                    return false;
                }
            };

            jumpUrlMod.checkStatus = function (tt, url) {
                switch (+tt) {
                    case 1:
                        if (ENV.is_android) {
                            utils.showTips(tt);
                            return false;
                        }
                        break;
                    case 2:
                        if (ENV.is_ios) {
                            if (/^sign_activity\.html/.test(url)) {
                                utils.showTips(4);
                            } else if (/^grow\.html/.test(url)) {
                                utils.showTips(5);
                            } else {
                                utils.showTips(tt);
                            }
                            return false;
                        }
                        break;
                    case 3:
                        utils.showTips(tt);
                        return false;
                }
                return true;
            }

            jumpUrlMod.jumpUrl = function (url, ChannelID, url_params) {
                var realurl = '';
                if (_private.ismqqUrl) {

                    //直接跳对应协议
                    if(jumpUrlMod.MQQ_REG.test(url)){
                        realurl = decodeURIComponent(url);
                    //直接跳阅读器
                    }else if (url == 20){
                        realurl = 'mqqapi://readingcenter/open?src_type=internal&version=1&over=0&drm=0&readtype=20&stay=1' + (url_params?'&'+url_params:'');
                    //一级页面
                    }else if (/^\d$/.test(url)) {
                        realurl = 'mqqapi://readingcenter/open?src_type=internal&version=1&readtype=21&column=' + url + '&stay=1&_bid=2036&ChannelID=' + ChannelID + (url_params?('&url_params='+ encodeURIComponent(url_params)):'');
                    } else {
                        url = url.replace(/&/g, '/46');
                        realurl = 'mqqapi://readingcenter/open?src_type=internal&version=1&readtype=22&url=' + url + '&stay=1&ChannelID=' + ChannelID + (url_params?('&url_params='+ encodeURIComponent(url_params)):'');
                    }
                    
                    //关闭当前webview
                    document.addEventListener("qbrowserVisibilityChange", function (e) {
                        if (e.hidden === true) setTimeout(function () {
                            mqq.ui.popBack();
                        }, 5000);
                    });
                    
                    if (ENV.is_mqq) {
                        mqq.ui.openUrl({
                            url: realurl,
                            target: 0
                        });
                    } else if (ENV.is_ios || ENV.is_android) {
                        location.href = window.location.protocol + "//imgcache.qq.com/club/themes/mobile/middle_page/index.html?url=" + encodeURIComponent(location.href)
                    } else {
                        location.replace(location.protocol +
                            '//cdn.vip.qq.com/club/themes/pc/qrcode/html/index.html?qrcode_url=' +
                            encodeURIComponent(location.href) + '&title=' + encodeURIComponent(document
                                .title));
                    }

                } else {
                    window.location.replace(url);
                }
            }
            //模块入口
            jumpUrlMod.init = function (params) {
                if (params.tt == 5) {
                    getUrlMod.init();
                    return;
                }
                if (!jumpUrlMod.checkStatus(params.tt, params.url)) {
                    return;
                }
                if (jumpUrlMod.checkHost(params.url)) {
                    jumpUrlMod.jumpUrl(params.url, params.ChannelID,params.url_params);
                } else {
                    utils.showTips(0);
                }
            }

            jumpUrlMod.getRealPath = function (url) {
                var iosUrl = ['appdown.html', 'chapter.html', 'columnbooks.html', 'friendReadList.html','sendbookrank.html'];
                var firstTab = ['bookDetails.html','index.html','mine_index.html'];

                var fileName, params;
                if (jumpUrlMod.READ_URL_REG.test(url)) {
                    fileName = RegExp.$3;
                    params = RegExp.$4;
                } else if (/(^[^/]+\.html)(\?.*)?/.test(url)) {
                    fileName = RegExp.$1;
                    params = RegExp.$2;
                }
                if (fileName && firstTab.indexOf(fileName) === -1) {
                    if (ENV.is_ios && iosUrl.indexOf(fileName) > -1) {
                        url = 'https://cdn.vip.qq.com/club/client/read/ios/rel/' + fileName;
                    } else {
                        url = 'https://cdn.vip.qq.com/club/client/read/6/rel/' + fileName;
                    }
                    url = url + (params || '');
                }
                return url;
            }

            jumpUrlMod.READ_URL_REG = /^https?:\/\/(imgcache|cdn\.vip)\.qq\.com\/club\/client\/read\/(6|ios)\/rel\/([^/]+?\.html)(\?.*)?/;
            jumpUrlMod.READ_TEST_URL_REG = /^https?:\/\/(h5|h5test)\.qzone\.qq\.com\/proxy\/domain\/(imgcache|cdn\.vip)\.qq\.com\/club\/client\/read\/(6|ios)\/rel\/([^/]+?\.html)(\?.*)?/;
            jumpUrlMod.FILE_NAME_REG = /^[^\/]*\.html$/;
            jumpUrlMod.MQQ_REG = /^mqqapi:\/\//;

            return (exports.jumpUrlMod = jumpUrlMod);

        });
        //页面入口
        (function () {
            var jumpUrlMod = require('jumpUrlMod');

            init = function () {
                var params;

                //处理跳转start
                var url = jumpUrlMod.getUrlparam('url') || '',
                    urland = jumpUrlMod.getUrlparam('urland') || '',
                    urlios = jumpUrlMod.getUrlparam('urlios') || '',
                    tt = jumpUrlMod.getUrlparam('tt') || '',
                    url_params = jumpUrlMod.getUrlparam('url_params') || '',
                    ChannelID = jumpUrlMod.getUrlparam('ChannelID') || '';

                if (ENV.is_android && !!urland) {
                    url = urland;
                } else if (ENV.is_ios && !!urlios) {
                    url = urlios;
                }


                if(!url){
                    url = 1
                }

                url = jumpUrlMod.getRealPath(url);
                params = {
                    url: url,
                    tt: tt,
                    ChannelID: ChannelID,
                    url_params: url_params
                }

                // 针对腾讯新闻 - 书城入口做ios的特殊逻辑处理：ios直接跳阅文的书城页，Android还是拉起阅读书城
                if (ChannelID == '100054' && ENV.is_ios) {
                    return jumpUrlMod.jumpUrl('http://ubook.qq.com/8/index.html?g_f=22713');
                }

                jumpUrlMod.init(params);
            }
            init();

        })();
    </script>

</body>

</html>
